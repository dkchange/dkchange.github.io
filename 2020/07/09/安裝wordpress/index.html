<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dkchange.github.io","root":"/","scheme":"Muse","version":"8.0.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜尋...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>

  <meta name="description" content="前言對於接案的人來說，你重頭開始造輪子是不可能的，沒有那個時間精力，要不就是拿現有工作的 code 來改，要不就是開源專案選一個來寫，那以前工作都是 laravel 客製化公司後台，對於 cms 這種案子的派不上太多用場，勢必要用流行的 cms 框架，其中就選擇最多人用的 wordpresshttps:&#x2F;&#x2F;wordpress.org&#x2F;showcase&#x2F; 不過也出了純 js 版的專案Github 平">
<meta property="og:type" content="article">
<meta property="og:title" content="安裝wordpress">
<meta property="og:url" content="http:&#x2F;&#x2F;dkchange.github.io&#x2F;2020&#x2F;07&#x2F;09&#x2F;%E5%AE%89%E8%A3%9Dwordpress&#x2F;index.html">
<meta property="og:site_name" content="蛋粒個人網誌">
<meta property="og:description" content="前言對於接案的人來說，你重頭開始造輪子是不可能的，沒有那個時間精力，要不就是拿現有工作的 code 來改，要不就是開源專案選一個來寫，那以前工作都是 laravel 客製化公司後台，對於 cms 這種案子的派不上太多用場，勢必要用流行的 cms 框架，其中就選擇最多人用的 wordpresshttps:&#x2F;&#x2F;wordpress.org&#x2F;showcase&#x2F; 不過也出了純 js 版的專案Github 平">
<meta property="og:locale" content="zh-TW">
<meta property="og:updated_time" content="2025-04-04T14:59:04.535Z">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://dkchange.github.io/2020/07/09/%E5%AE%89%E8%A3%9Dwordpress/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>

  <title>安裝wordpress | 蛋粒個人網誌</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">蛋粒個人網誌</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#wordpress-本地開發"><span class="nav-number">2.</span> <span class="nav-text">wordpress 本地開發</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#wordpress-網站範例"><span class="nav-number">3.</span> <span class="nav-text">wordpress 網站範例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#理想的-wordpress-開發流程"><span class="nav-number">4.</span> <span class="nav-text">理想的 wordpress 開發流程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#oracle-cloud"><span class="nav-number">5.</span> <span class="nav-text">oracle cloud</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#trellis"><span class="nav-number">6.</span> <span class="nav-text">trellis</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#接案報價"><span class="nav-number">7.</span> <span class="nav-text">接案報價</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#開發"><span class="nav-number">8.</span> <span class="nav-text">開發</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#wordpress-社群"><span class="nav-number">8.1.</span> <span class="nav-text">wordpress 社群</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wordpress-設計模式"><span class="nav-number">8.2.</span> <span class="nav-text">wordpress 設計模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如何改進開發體驗"><span class="nav-number">8.3.</span> <span class="nav-text">如何改進開發體驗</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#開發類型"><span class="nav-number">8.4.</span> <span class="nav-text">開發類型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sage-起手主題"><span class="nav-number">8.5.</span> <span class="nav-text">sage 起手主題</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#管理插件"><span class="nav-number">8.6.</span> <span class="nav-text">管理插件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bedrock"><span class="nav-number">8.7.</span> <span class="nav-text">bedrock</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#開放套件按裝和刪除"><span class="nav-number">8.7.1.</span> <span class="nav-text">開放套件按裝和刪除</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wp-cli"><span class="nav-number">8.8.</span> <span class="nav-text">wp-cli</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#前後端分離"><span class="nav-number">8.9.</span> <span class="nav-text">前後端分離</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#wpapi"><span class="nav-number">8.9.1.</span> <span class="nav-text">wpapi</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#wpgrahql"><span class="nav-number">8.9.2.</span> <span class="nav-text">wpgrahql</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ACF-自動導入-json"><span class="nav-number">8.10.</span> <span class="nav-text">ACF 自動導入 json</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ACF-頁面編輯頁移除齒輪"><span class="nav-number">8.11.</span> <span class="nav-text">ACF 頁面編輯頁移除齒輪</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CPTUI-自動導入-json"><span class="nav-number">8.12.</span> <span class="nav-text">CPTUI 自動導入 json</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安裝-wordpress"><span class="nav-number">8.13.</span> <span class="nav-text">安裝 wordpress</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#wordpress-翻譯"><span class="nav-number">9.</span> <span class="nav-text">wordpress 翻譯</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#不用-walker-做-menu"><span class="nav-number">10.</span> <span class="nav-text">不用 walker 做 menu</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#付費的-plugin-如何用-composer-安裝"><span class="nav-number">11.</span> <span class="nav-text">付費的 plugin 如何用 composer 安裝</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何一鍵搬移資料庫"><span class="nav-number">12.</span> <span class="nav-text">如何一鍵搬移資料庫</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#安裝-sage"><span class="nav-number">13.</span> <span class="nav-text">安裝 sage</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如果發現套件沒安裝好，可能是你改完-composer-json-之後沒有-update"><span class="nav-number">14.</span> <span class="nav-text">如果發現套件沒安裝好，可能是你改完 composer.json 之後沒有 update</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#在佈署完之後裝啟用語言"><span class="nav-number">15.</span> <span class="nav-text">在佈署完之後裝啟用語言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#在佈署完之後啟用插件"><span class="nav-number">16.</span> <span class="nav-text">在佈署完之後啟用插件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#更自動化一點"><span class="nav-number">17.</span> <span class="nav-text">更自動化一點</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#利用-ACF-客製化主題設定"><span class="nav-number">18.</span> <span class="nav-text">利用 ACF 客製化主題設定</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#搭配-sage-要做-composer-install-的-hook"><span class="nav-number">19.</span> <span class="nav-text">搭配 sage 要做 composer install 的 hook</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#語言問題"><span class="nav-number">20.</span> <span class="nav-text">語言問題</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#環境佈署"><span class="nav-number">21.</span> <span class="nav-text">環境佈署</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#後續處理"><span class="nav-number">22.</span> <span class="nav-text">後續處理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#前端工程化"><span class="nav-number">23.</span> <span class="nav-text">前端工程化</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#trellis-備份相關腳本"><span class="nav-number">24.</span> <span class="nav-text">trellis 備份相關腳本</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#wordpress-api"><span class="nav-number">25.</span> <span class="nav-text">wordpress api</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#試著複寫插件提供的-fucntion"><span class="nav-number">26.</span> <span class="nav-text">試著複寫插件提供的 fucntion</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#避免-query-錯"><span class="nav-number">27.</span> <span class="nav-text">避免 query 錯</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#wp-cli-1"><span class="nav-number">28.</span> <span class="nav-text">wp-cli</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#從-bedrock-到正常的-wordpress"><span class="nav-number">29.</span> <span class="nav-text">從 bedrock 到正常的 wordpress</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#poeidt"><span class="nav-number">30.</span> <span class="nav-text">poeidt</span></a></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Stanley Ke</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">78</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://dkchange.github.io/2020/07/09/%E5%AE%89%E8%A3%9Dwordpress/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Stanley Ke">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蛋粒個人網誌">
    </span>

    
    
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          安裝wordpress
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2020-07-09 14:51:26" itemprop="dateCreated datePublished" datetime="2020-07-09T14:51:26+08:00">2020-07-09</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新於</span>
        <time title="修改時間：2025-04-04 22:59:04" itemprop="dateModified" datetime="2025-04-04T22:59:04+08:00">2025-04-04</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/wordpress/" itemprop="url" rel="index"><span itemprop="name">wordpress</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/wordpress/sage/" itemprop="url" rel="index"><span itemprop="name">sage</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>對於接案的人來說，你重頭開始造輪子是不可能的，沒有那個時間精力，要不就是拿現有工作的 code 來改，要不就是開源專案選一個來寫，<br>那以前工作都是 laravel 客製化公司後台，對於 cms 這種案子的派不上太多用場，勢必要用流行的 cms 框架，其中就選擇最多人用的 wordpress<br><a href="https://wordpress.org/showcase/" target="_blank" rel="noopener">https://wordpress.org/showcase/</a></p>
<p>不過也出了純 js 版的專案<br>Github 平臺最有價值的 100 個專案<br><a href="https://github.com/Automattic/wp-calypso" target="_blank" rel="noopener">https://github.com/Automattic/wp-calypso</a></p>
<h1 id="wordpress-本地開發"><a href="#wordpress-本地開發" class="headerlink" title="wordpress 本地開發"></a>wordpress 本地開發</h1><p>網路上有很多資源介紹如何本地開發，和設定本地環境<br><a href="https://roots.io/docs/bedrock/master/local-development/#additional-resources" target="_blank" rel="noopener">https://roots.io/docs/bedrock/master/local-development/#additional-resources</a></p>
<h1 id="wordpress-網站範例"><a href="#wordpress-網站範例" class="headerlink" title="wordpress 網站範例"></a>wordpress 網站範例</h1><p><a href="https://inciteresponse.com/hotel-websites-built-using-wordpress/" target="_blank" rel="noopener">https://inciteresponse.com/hotel-websites-built-using-wordpress/</a></p>
<h1 id="理想的-wordpress-開發流程"><a href="#理想的-wordpress-開發流程" class="headerlink" title="理想的 wordpress 開發流程"></a>理想的 wordpress 開發流程</h1><p>非常重要的影片<br><a href="https://youtu.be/mzs-X2z-96Y" target="_blank" rel="noopener">https://youtu.be/mzs-X2z-96Y</a></p>
<h1 id="oracle-cloud"><a href="#oracle-cloud" class="headerlink" title="oracle cloud"></a>oracle cloud</h1><p>免費一年的 aws 過期了<br>出現 Permission denied (publickey).<br>一開始以為是預設金鑰抓錯了<br>ssh -i /home/stanley/.ssh/id_rsa <a href="mailto:ubuntu@168.138.46.17" target="_blank" rel="noopener">ubuntu@168.138.46.17</a><br>後來才發現要指定使用者阿～～<br>ssh <a href="mailto:ubuntu@168.138.46.17" target="_blank" rel="noopener">ubuntu@168.138.46.17</a></p>
<h1 id="trellis"><a href="#trellis" class="headerlink" title="trellis"></a>trellis</h1><p>看 github 的 about 介紹 Ansible playbooks for a WordPress</p>
<p><a href="https://www.youtube.com/watch?v=-pOKTtAfJ8M" target="_blank" rel="noopener">https://www.youtube.com/watch?v=-pOKTtAfJ8M</a><br>It appears your machine doesn’t support NFS, or there is not an<br>adapter to enable NFS on this machine for Vagrant.</p>
<blockquote>
<p>sudo apt-get install portmap nfs-kernel-server</p>
</blockquote>
<p>解釋一下 trellis 做了什麼，他幫忙在本機設定好虛擬的環境，就是有可能你是 windows 用戶 code 要放在 linux 上，但是他並不會在遠端也幫你建一個虛擬機，所以你的遠端伺服器的作業系統一定要是 ubuntu<br>Trellis runs on Ubuntu 18.04 LTS (Bionic Beaver) based servers</p>
<h1 id="接案報價"><a href="#接案報價" class="headerlink" title="接案報價"></a>接案報價</h1><p>阿接案的新手如果不知道報價的話，可以參考網路上的一些公司<br><a href="https://wpw.design/price-wordpress/" target="_blank" rel="noopener">https://wpw.design/price-wordpress/</a></p>
<h1 id="開發"><a href="#開發" class="headerlink" title="開發"></a>開發</h1><h2 id="wordpress-社群"><a href="#wordpress-社群" class="headerlink" title="wordpress 社群"></a>wordpress 社群</h2><p>wordpress 的社群氛圍相對其他框架，並不是那麼優良<br>因為 wordpress 定位為”不會寫程式的人也會用”，爾且全球使用的人實在太多，這造就了很多人問問題就只是要答案複製貼上，沒什麼反饋<br>我們都會這樣了，何況是不會寫程式的人，所以種種原因會讓你在問題定位上遇到困難</p>
<h2 id="wordpress-設計模式"><a href="#wordpress-設計模式" class="headerlink" title="wordpress 設計模式"></a>wordpress 設計模式</h2><p>義大利麵,wordpress 是很久的專案了，對於熟悉現代框架的我們，寫起來其實是相當痛苦，整個專案是程序導向的方式，沒什麼規範<br><a href="https://wordpress.stackexchange.com/questions/169812/what-is-the-design-pattern-for-wordpress-core" target="_blank" rel="noopener">https://wordpress.stackexchange.com/questions/169812/what-is-the-design-pattern-for-wordpress-core</a></p>
<p>那硬要說的話，wordpress 採事件驅動的開發模式，那缺點是什麼？<br>整個生命週期安插了許多的事件，使用者自訂的事件，你必須要對生命週期有一定程度的了解，在加上哪些地方有用的到這個事件，可能有很多地方都對這個事件添加了 handler<br>變成不好管理<br>hook function 就是我們俗稱的 callback<br>分為兩種<br>action hook 是 <strong>沒有</strong> 回傳值的 callback<br>filter hook 是 <strong>有</strong> 回傳值的 callback<br>然後如何決定這些 handler 的順序？<br>就會有個 Priority 參數<br>然後可以透過$wp_filters[‘事件名’]這個 global 變數來取得所有 hook 的資訊</p>
<p><a href="https://audilu.com/2011/10/10/wordpress-hook/" target="_blank" rel="noopener">https://audilu.com/2011/10/10/wordpress-hook/</a></p>
<p>然後 wordpress 在 php 還沒有物件導向時就出來了，也沒有硬性規定你的寫法，可以用程序導向，也可以用物件導向，所以在命名規則上，就會有一些約定，<br>像是 function 前面要加上主題的前綴，避免和插件等等命名發生重複</p>
<p>其餘內建的命名規則：<br>get_the_XXX()不會打印，只會回傳值<br>the_XXX()會印出東西</p>
<h2 id="如何改進開發體驗"><a href="#如何改進開發體驗" class="headerlink" title="如何改進開發體驗"></a>如何改進開發體驗</h2><p>在開發 wordpress 時，會發現用到很多的 function 很多的 callback，所以選對 ide 來開發 wordpress 顯得相當重要，哪個時期哪些功能要用到哪些 wp 的 api 也很重要</p>
<p>wordpress 寫 code 容易寫出義大利麵<br>話雖然是這樣說，但裡面龐大的資源是大家不能夠輕易放棄的，所以就有許多 opensource 專案出來，希望讓 wordpress 開發比較符合現代開發方式</p>
<h2 id="開發類型"><a href="#開發類型" class="headerlink" title="開發類型"></a>開發類型</h2><p><a href="https://developer.wordpress.org/" target="_blank" rel="noopener">https://developer.wordpress.org/</a></p>
<p>主要分成</p>
<ul>
<li>插件開發</li>
<li>主題開發</li>
</ul>
<p>你可以看到網路上許多在賣主題，或插件的，對我們接案的來說你的功能都會在主題開發完成，有需要共用的功能才需要花心力抽成插件</p>
<h2 id="sage-起手主題"><a href="#sage-起手主題" class="headerlink" title="sage 起手主題"></a>sage 起手主題</h2><p>sage 是能夠讓你快速開發 wordpress 主題的 Boilerplate，引入了 laravel 的 blade 模板引擎，以及前端工程化的 webpack<br>照著文檔規則走可以讓你很輕鬆的把現代開發融入 wordpress 主題開發之中，就是資料夾結構都幫你定義好了，照做就行</p>
<h2 id="管理插件"><a href="#管理插件" class="headerlink" title="管理插件"></a>管理插件</h2><p>wordpress 的插件都是放在自己定義的 plugins 資料夾，但我們現在都是用 composer 來管理現代專案了，所以必須要將原本指向 vendor 的資料夾改指向 plugins<br><a href="https://n3xtchen.github.io/n3xtchen/php/2015/02/15/wordpress-n-composer" target="_blank" rel="noopener">https://n3xtchen.github.io/n3xtchen/php/2015/02/15/wordpress-n-composer</a><br><a href="https://roots.io/using-composer-with-wordpress/" target="_blank" rel="noopener">https://roots.io/using-composer-with-wordpress/</a></p>
<h2 id="bedrock"><a href="#bedrock" class="headerlink" title="bedrock"></a>bedrock</h2><p>為了讓 wordpress 能夠使用 composere 管理插件，就出現了這個專案啦，但是這個專案並不能更新，因為他也是 Boilerplate,沒辦法像更新插件一樣輕鬆更新，就像你在更新框架也很麻煩一樣，不過沒關係 wordpress 可以正常更新就好<br><a href="https://discourse.roots.io/t/how-to-update-wordpress-bedrock-after-deployment/3741/8" target="_blank" rel="noopener">https://discourse.roots.io/t/how-to-update-wordpress-bedrock-after-deployment/3741/8</a></p>
<h3 id="開放套件按裝和刪除"><a href="#開放套件按裝和刪除" class="headerlink" title="開放套件按裝和刪除"></a>開放套件按裝和刪除</h3><p>基於甲方可能亂刪套件亂裝套件導致網站壞掉，最好還是關掉這個功能<br><a href="https://discourse.roots.io/t/does-bedrock-trellis-disable-the-ability-to-add-install-plugins-via-admin/6925/6" target="_blank" rel="noopener">https://discourse.roots.io/t/does-bedrock-trellis-disable-the-ability-to-add-install-plugins-via-admin/6925/6</a></p>
<h2 id="wp-cli"><a href="#wp-cli" class="headerlink" title="wp-cli"></a>wp-cli</h2><p>wordpress 有成千上萬的套件，一個站一定會用上個幾個，那你又不可能每次都手動去後台安裝套件，再來啟用，太花時間了<br>就算插件能用 composer 做管理，插件的啟用還是得要上後台開啟，所以就有了 wp-cli 這工具讓你可以下指令做啟用，<br>只要你會寫腳本運用 wpcli，專案套件的管理和啟用就不是什麼難事，工程師就也不一定要用 composer 來做管理，wp—cli 能開啟關閉套件還更方便些</p>
<p>所以我想這也有可能是 wordpress 自今一直沒改資料夾結構的原因之一，旨在一般大眾就可以使用，平易近人，工程師自己要用 composer 就自己想辦法<br><a href="https://wp-cli.org/zh-cn/" target="_blank" rel="noopener">https://wp-cli.org/zh-cn/</a></p>
<h2 id="前後端分離"><a href="#前後端分離" class="headerlink" title="前後端分離"></a>前後端分離</h2><h3 id="wpapi"><a href="#wpapi" class="headerlink" title="wpapi"></a>wpapi</h3><p>wordpress 設計的 rest api，讓你前後端分離，但是在設計上每個請求都會經過一大堆插件，不是直接與 db 做溝通，爾且也不是每個插件都支援 wpapi，要看作者有沒有寫</p>
<h3 id="wpgrahql"><a href="#wpgrahql" class="headerlink" title="wpgrahql"></a>wpgrahql</h3><p>wordpress 就是好用在他的插件，當你使用 wpgrahql 前後端分離的時候，就需要考慮到說，那我用 wordpress 幹什麼？<br>好處是因為他是直接跟資料庫做溝通，不會經過插件，就變成你只需要他的後台</p>
<h2 id="ACF-自動導入-json"><a href="#ACF-自動導入-json" class="headerlink" title="ACF 自動導入 json"></a>ACF 自動導入 json</h2><p><a href="https://support.advancedcustomfields.com/forums/topic/auto-import-json-export-file/" target="_blank" rel="noopener">https://support.advancedcustomfields.com/forums/topic/auto-import-json-export-file/</a></p>
<h2 id="ACF-頁面編輯頁移除齒輪"><a href="#ACF-頁面編輯頁移除齒輪" class="headerlink" title="ACF 頁面編輯頁移除齒輪"></a>ACF 頁面編輯頁移除齒輪</h2><p><a href="https://support.advancedcustomfields.com/forums/topic/remove-edit-field-group-cog/" target="_blank" rel="noopener">https://support.advancedcustomfields.com/forums/topic/remove-edit-field-group-cog/</a></p>
<h2 id="CPTUI-自動導入-json"><a href="#CPTUI-自動導入-json" class="headerlink" title="CPTUI 自動導入 json"></a>CPTUI 自動導入 json</h2><p><a href="https://github.com/WebDevStudios/custom-post-type-ui/issues/381" target="_blank" rel="noopener">https://github.com/WebDevStudios/custom-post-type-ui/issues/381</a></p>
<h2 id="安裝-wordpress"><a href="#安裝-wordpress" class="headerlink" title="安裝 wordpress"></a>安裝 wordpress</h2><p><a href="https://www.datanovia.com/en/lessons/using-docker-wordpress-cli-to-manage-wordpress-websites/" target="_blank" rel="noopener">https://www.datanovia.com/en/lessons/using-docker-wordpress-cli-to-manage-wordpress-websites/</a><br><a href="https://stackoverflow.com/questions/50999848/how-to-run-wp-cli-in-docker-compose-yml" target="_blank" rel="noopener">https://stackoverflow.com/questions/50999848/how-to-run-wp-cli-in-docker-compose-yml</a></p>
<p><a href="https://medium.com/@tatemz/using-wp-cli-with-docker-21b0ab9fab79" target="_blank" rel="noopener">https://medium.com/@tatemz/using-wp-cli-with-docker-21b0ab9fab79</a></p>
<p><a href="https://gist.github.com/bradtraversy/faa8de544c62eef3f31de406982f1d42" target="_blank" rel="noopener">https://gist.github.com/bradtraversy/faa8de544c62eef3f31de406982f1d42</a></p>
<p>要執行服務裡面的指令可以<br>sudo docker-compose run –rm wordpress-cli post list<br>docker-compose run –rm cli bash</p>
<p>alias wp=”sudo docker-compose run –rm wordpress-cli”<br>這樣以後就可以<br>wp post list</p>
<h1 id="wordpress-翻譯"><a href="#wordpress-翻譯" class="headerlink" title="wordpress 翻譯"></a>wordpress 翻譯</h1><p>sudo apt-get install poedit<br>不這樣做的話，poedit 會沒有權限打開一些檔案</p>
<p><a href="https://roots.io/docs/sage/9.x/localization/#generating-language-files" target="_blank" rel="noopener">https://roots.io/docs/sage/9.x/localization/#generating-language-files</a></p>
<p>做本地化一直沒有成功，最後還是依賴上述連結所提的<br>See Sage_Polylang_Theme_Translation<br>相關插件來翻譯</p>
<h1 id="不用-walker-做-menu"><a href="#不用-walker-做-menu" class="headerlink" title="不用 walker 做 menu"></a>不用 walker 做 menu</h1><p><a href="https://developer.wordpress.org/reference/functions/wp_get_nav_menu_items/" target="_blank" rel="noopener">https://developer.wordpress.org/reference/functions/wp_get_nav_menu_items/</a></p>
<h1 id="付費的-plugin-如何用-composer-安裝"><a href="#付費的-plugin-如何用-composer-安裝" class="headerlink" title="付費的 plugin 如何用 composer 安裝"></a>付費的 plugin 如何用 composer 安裝</h1><p><a href="https://roots.io/guides/private-or-commercial-wordpress-plugins-as-composer-dependencies/" target="_blank" rel="noopener">https://roots.io/guides/private-or-commercial-wordpress-plugins-as-composer-dependencies/</a><br><a href="https://roots.io/guides/acf-pro-as-a-composer-dependency-with-encrypted-license-key/" target="_blank" rel="noopener">https://roots.io/guides/acf-pro-as-a-composer-dependency-with-encrypted-license-key/</a><br><a href="https://getcomposer.org/doc/articles/handling-private-packages-with-satis.md" target="_blank" rel="noopener">https://getcomposer.org/doc/articles/handling-private-packages-with-satis.md</a></p>
<h1 id="如何一鍵搬移資料庫"><a href="#如何一鍵搬移資料庫" class="headerlink" title="如何一鍵搬移資料庫"></a>如何一鍵搬移資料庫</h1><p><a href="https://github.com/jasperf/trellis-sync" target="_blank" rel="noopener">https://github.com/jasperf/trellis-sync</a></p>
<p><a href="https://roots.io/plugins/sync-script/" target="_blank" rel="noopener">https://roots.io/plugins/sync-script/</a></p>
<h1 id="安裝-sage"><a href="#安裝-sage" class="headerlink" title="安裝 sage"></a>安裝 sage</h1><p>會遇到問題</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.node-gyp/12.1.0/include/node/v8.h:3002:5: note: candidate constructor not viable: no known conversion from 'v8::Local&lt;v8::Value&gt;' to 'const v8::String::Utf8Value' for 1st argument</span><br><span class="line">    Utf8Value(const Utf8Value&amp;) = delete;</span><br></pre></td></tr></table></figure>

<p>因為 node-sass needs to be version 4.12.0 for Node.js 12 support<br>所以記得去 update 一下 node-sass 的版本</p>
<h1 id="如果發現套件沒安裝好，可能是你改完-composer-json-之後沒有-update"><a href="#如果發現套件沒安裝好，可能是你改完-composer-json-之後沒有-update" class="headerlink" title="如果發現套件沒安裝好，可能是你改完 composer.json 之後沒有 update"></a>如果發現套件沒安裝好，可能是你改完 composer.json 之後沒有 update</h1><p><a href="https://discourse.roots.io/t/trellis-deploy-composer-uses-old-version-of-package-loading-from-cache/7186" target="_blank" rel="noopener">https://discourse.roots.io/t/trellis-deploy-composer-uses-old-version-of-package-loading-from-cache/7186</a></p>
<h1 id="在佈署完之後裝啟用語言"><a href="#在佈署完之後裝啟用語言" class="headerlink" title="在佈署完之後裝啟用語言"></a>在佈署完之後裝啟用語言</h1><p><a href="https://discourse.roots.io/t/adding-wp-language-files-on-deploy/9212/34" target="_blank" rel="noopener">https://discourse.roots.io/t/adding-wp-language-files-on-deploy/9212/34</a></p>
<h1 id="在佈署完之後啟用插件"><a href="#在佈署完之後啟用插件" class="headerlink" title="在佈署完之後啟用插件"></a>在佈署完之後啟用插件</h1><p><a href="https://discourse.roots.io/t/activate-plugins-after-added-via-composer-json/12790" target="_blank" rel="noopener">https://discourse.roots.io/t/activate-plugins-after-added-via-composer-json/12790</a><br>利用 composer 的 hook<br>但是，trellis 在 deploy 之後似乎不會每次都觸發 composer update 或 composer install<br>所以套件並沒有因此而啟用，這需要再測試一下<br>測試之後發現新加了 plugin 還是不會觸發 composer hook<br>看來在 trellis 要另尋方法了<br><a href="https://discourse.roots.io/t/plugin-activation-task-during-vagrant-provisioning/5803/4" target="_blank" rel="noopener">https://discourse.roots.io/t/plugin-activation-task-during-vagrant-provisioning/5803/4</a><br><a href="https://discourse.roots.io/t/composer-install-with-no-scripts-doesnt-work/13743/12" target="_blank" rel="noopener">https://discourse.roots.io/t/composer-install-with-no-scripts-doesnt-work/13743/12</a></p>
<h1 id="更自動化一點"><a href="#更自動化一點" class="headerlink" title="更自動化一點"></a>更自動化一點</h1><p>Let’s say I would like every commit to github to be automatically deployed to my staging server?<br>不用在本機打指令，這樣就要用到 ci/cd 啟一個 server 來跑 deploy 指令了</p>
<p><a href="https://discourse.roots.io/t/automated-deployment/6536" target="_blank" rel="noopener">https://discourse.roots.io/t/automated-deployment/6536</a></p>
<h1 id="利用-ACF-客製化主題設定"><a href="#利用-ACF-客製化主題設定" class="headerlink" title="利用 ACF 客製化主題設定"></a>利用 ACF 客製化主題設定</h1><p><a href="https://youtu.be/Dlsr5uVOMRI" target="_blank" rel="noopener">https://youtu.be/Dlsr5uVOMRI</a></p>
<h1 id="搭配-sage-要做-composer-install-的-hook"><a href="#搭配-sage-要做-composer-install-的-hook" class="headerlink" title="搭配 sage 要做 composer install 的 hook"></a>搭配 sage 要做 composer install 的 hook</h1><p><a href="https://discourse.roots.io/t/help-sage-autoloader-errors-after-activating-theme-after-seemingly-successful-deploy/9991" target="_blank" rel="noopener">https://discourse.roots.io/t/help-sage-autoloader-errors-after-activating-theme-after-seemingly-successful-deploy/9991</a></p>
<h1 id="語言問題"><a href="#語言問題" class="headerlink" title="語言問題"></a>語言問題</h1><p><a href="https://discourse.roots.io/t/manage-plugin-translations-current-approaches/9108" target="_blank" rel="noopener">https://discourse.roots.io/t/manage-plugin-translations-current-approaches/9108</a></p>
<p><a href="https://github.com/roots/bedrock/issues/30" target="_blank" rel="noopener">https://github.com/roots/bedrock/issues/30</a></p>
<h1 id="環境佈署"><a href="#環境佈署" class="headerlink" title="環境佈署"></a>環境佈署</h1><p>wp search-replace ‘//happypanda.subnet.vcn.oraclevcn.com/wp’ ‘//happypanda.tw’</p>
<p>wp search-replace ‘happypanda.subnet.vcn.oraclevcn.com/app/‘ ‘happypanda.tw/wp-content/‘</p>
<h1 id="後續處理"><a href="#後續處理" class="headerlink" title="後續處理"></a>後續處理</h1><p>安裝 lighthouse 來做網站相關優化處理</p>
<h1 id="前端工程化"><a href="#前端工程化" class="headerlink" title="前端工程化"></a>前端工程化</h1><p><a href="https://awdr74100.github.io/2020-02-26-webpack-cssloader-styleloader/" target="_blank" rel="noopener">https://awdr74100.github.io/2020-02-26-webpack-cssloader-styleloader/</a></p>
<h1 id="trellis-備份相關腳本"><a href="#trellis-備份相關腳本" class="headerlink" title="trellis 備份相關腳本"></a>trellis 備份相關腳本</h1><p>等待研究<br><a href="https://github.com/ItinerisLtd/trellis-backup-during-deploy" target="_blank" rel="noopener">https://github.com/ItinerisLtd/trellis-backup-during-deploy</a></p>
<h1 id="wordpress-api"><a href="#wordpress-api" class="headerlink" title="wordpress api"></a>wordpress api</h1><p>wordpress 防 csrf<br><a href="https://trepmal.com/2018/01/26/cookie-nonce-authentication-for-rest-api-curl-requests/" target="_blank" rel="noopener">https://trepmal.com/2018/01/26/cookie-nonce-authentication-for-rest-api-curl-requests/</a></p>
<h1 id="試著複寫插件提供的-fucntion"><a href="#試著複寫插件提供的-fucntion" class="headerlink" title="試著複寫插件提供的 fucntion"></a>試著複寫插件提供的 fucntion</h1><p>為了沒裝插件時也能正常執行</p>
<p><a href="https://wordpress.stackexchange.com/questions/243168/providing-fallback-function-and-allow-override-by-plugin" target="_blank" rel="noopener">https://wordpress.stackexchange.com/questions/243168/providing-fallback-function-and-allow-override-by-plugin</a><br>或者應該把插件放到 must pulgin 才是</p>
<h1 id="避免-query-錯"><a href="#避免-query-錯" class="headerlink" title="避免 query 錯"></a>避免 query 錯</h1><ul>
<li>wp_reset_query() - ensure that the main query has been reset to the original main query</li>
<li>wp_reset_postdata() - ensures that the global $post has been restored to the current post in the main query.</li>
</ul>
<p><a href="https://wordpress.stackexchange.com/questions/144343/wp-reset-postdata-or-wp-reset-query-after-a-custom-loop" target="_blank" rel="noopener">https://wordpress.stackexchange.com/questions/144343/wp-reset-postdata-or-wp-reset-query-after-a-custom-loop</a></p>
<h1 id="wp-cli-1"><a href="#wp-cli-1" class="headerlink" title="wp-cli"></a>wp-cli</h1><p><a href="https://wp-cli.org/zh-cn/" target="_blank" rel="noopener">https://wp-cli.org/zh-cn/</a></p>
<h1 id="從-bedrock-到正常的-wordpress"><a href="#從-bedrock-到正常的-wordpress" class="headerlink" title="從 bedrock 到正常的 wordpress"></a>從 bedrock 到正常的 wordpress</h1><p>//url.example/wp -&gt; //url.example<br>url.example/app/ -&gt; url.example/wp-content/</p>
<p>docker-compose run –rm wordpress-cli search-replace ‘//happypanda.subnet.vcn.oraclevcn.com/wp’ ‘//localhost:8000’</p>
<p>docker-compose run –rm wordpress-cli search-replace ‘happypanda.subnet.vcn.oraclevcn.com/app/‘ ‘localhost:8000/wp-content/‘</p>
<p>然後 sage 裡面的 wp-content/themes/happy-panda/resources/assets/config.json<br>“publicPath”: “/wp-content/themes/happy-panda”<br>要改 webpack 在編譯時路徑才會對</p>
<h1 id="poeidt"><a href="#poeidt" class="headerlink" title="poeidt"></a>poeidt</h1><p>語言翻譯教學<br><a href="https://www.youtube.com/watch?v=W5BkxT2dVo4" target="_blank" rel="noopener">https://www.youtube.com/watch?v=W5BkxT2dVo4</a></p>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/06/16/%E9%80%9A%E8%A8%8A%E8%88%87%E5%8D%94%E5%AE%9A/" rel="prev" title="通訊與協定">
                  <i class="fa fa-chevron-left"></i> 通訊與協定
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/07/28/%E4%BD%BF%E7%94%A8shell-script/" rel="next" title="使用shell script">
                  使用shell script <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
  
  
  



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Stanley Ke</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 強力驅動
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  















  








  

  

</body>
</html>
