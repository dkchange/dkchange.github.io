---
title: 該記取的教訓
date: 2019-11-02 23:24:47
tags: 日記
categories: 日記
---

事情是這樣的，當初在買這台$20000筆電的前一台筆電是$13000，買這兩次朋友都翻我白眼，$13000那台只用了2年，因為慢到我受不鳥，所以就換了$20000 這台，一切就平安順利，也用了快兩年了，以前也沒想要開虛擬機，今天想說來玩玩 docker 容器
結果安裝時遇到問題
![版本不對](/images/版本不對.PNG)
沒關係，努力爬完文之後，修改註冊檔，上網找指令終於安裝成功!!
一執行
![不支援](/images/不支援.PNG)
乾!!!把時間還來啊
寫 code 還是有門檻的，下次還是買貴一點吧…

欄後在 EC2 主機上用 composer 裝東西報錯
Fatal error: Out of memory (allocated 788537344) (tried to allocate 33554440 bytes) in phar:///usr/local/bin/cmposer/DependencyResolver/RuleSet.php on line 84

    ubuntu@ip-172-31-35-32:/var/www/html/myproject$ free -h
                total        used        free      shared  buff/cache   available
    Mem:           983M        139M        682M         19M        162M        686M
    Swap:            0B          0B          0B

猜猜我怎解決?

> 在本機的電腦跑完 composer，vender 再壓縮成一包丟進 AWS 主機
> composer.json
> 也丟
> sudo tar -zxvf vendor.tar.gz
> sudo chown -R www-data:www-data vendor
> composer dump-autoload

我 484 窮得很沒格調

結果有解決方法

> sudo fallocate -l 1G /swapfile
> sudo mkswap /swapfile
> sudo swapon /swapfile
