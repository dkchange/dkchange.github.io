<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>My New Hugo Site</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.152.2">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >




    


    
      

    

    
    
      <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="My New Hugo Site" />
      <link href="/posts/index.xml" rel="feed" type="application/rss+xml" title="My New Hugo Site" />
      
    

    
      <link rel="canonical" href="http://localhost:1313/posts/">
    

    <meta property="og:url" content="http://localhost:1313/posts/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="Posts">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Posts">
  <meta itemprop="datePublished" content="2025-04-11T16:41:12+00:00">
  <meta itemprop="dateModified" content="2025-11-12T12:47:49+00:00">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Posts">

	
  </head><body class="ma0 avenir bg-near-white development">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        My New Hugo Site
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy nested-links mid-gray"></section>
    <section class="flex-ns mt5 flex-wrap justify-around">
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/%E6%8E%92%E7%89%88%E6%B3%A8%E6%84%8F/" class="link black dim">
        排版注意
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="flexbox">flexbox</h1>
<p>flexbox 有幾個坑，如果重頭到尾都用 flexbox 的話
滾輪需注意事項，
所有付元素都需要設置高度所以一般我會設置 max—height 100％
根元素需要用絕對位置</p>
<p><a href="https://stackoverflow.com/questions/21515042/scrolling-a-flexbox-with-overflowing-content">https://stackoverflow.com/questions/21515042/scrolling-a-flexbox-with-overflowing-content</a></p>
    </div>
    <a href="/posts/%E6%8E%92%E7%89%88%E6%B3%A8%E6%84%8F/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/yii2%E5%B0%88%E6%A1%88%E5%BB%BA%E7%BD%AE%E6%B5%81%E7%A8%8B/" class="link black dim">
        yii2專案建置流程
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="前言">前言</h1>
<p>本篇將紀錄專案從 0 開始的過程
<a href="https://www.youtube.com/watch?v=eQdDBhQpU9o">參考來源</a></p>
<h1 id="前置動作">前置動作</h1>
<ol>
<li>
<p>安裝 composer</p>
<p>目前這個時間點已經有 composer2 了</p>
</li>
<li>
<p>安裝 yii2</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>//XXX是專案名
</span></span><span style="display:flex;"><span>composer create-project --prefer-dist yiisoft/yii2-app-advenced XXX
</span></span></code></pre></div></li>
<li>
<p>挑選後台樣板</p>
<p>下載 sb admin</p>
</li>
<li>
<p>設定網址</p>
<ul>
<li>後台http://backend.localhost:8888/</li>
<li>前台http://frontend.localhost:8888/</li>
</ul>
</li>
<li>
<p>初始化專案</p>
<p>php init</p>
</li>
<li>
<p>註冊使用者</p>
<p>到前台http://frontend.localhost:8888/註冊會發現資料庫不存在</p>
</li>
<li>
<p>創建資料庫</p>
<p>填寫資料庫名 ， 選擇編碼 utf8mb4_general_ci</p>
</li>
<li>
<p>跑 migrate</p>
<p>跑環系統會新增一個 user 的 table，成功之後便可以正常創建帳號</p>
</li>
<li>
<p>驗證帳號</p>
<p>yii2 的 mail 設定檔裡面會將驗證的 mail 寫進 frontend/runtime/mail
裡面的字串是屬於特殊格式的，他每換一行會多加個=,每次遇到=會多加一個 3D
所以去掉多餘的= 3D 之後，將網址貼上 browser 就可以驗證成功</p>
</li>
</ol>
<h1 id="套用樣板">套用樣板</h1>
<p>將資源整合進 AppAsset.php</p>
<ol>
<li>共用的資源和 header footer 整合進 layout/main.php</li>
<li>yii2 預設整合 bootstrap3 如果要關掉預設，要在設定檔</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;assetManager&#39;</span><span style="color:#f92672">=&gt;</span>[
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;bundles&#34;</span><span style="color:#f92672">=&gt;</span>[
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">\yii\bootstrap\BootstrapAsset</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span><span style="color:#f92672">=&gt;</span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    ]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>    composer remove yiisoft/yii2-bootstrapt
</span></span></code></pre></div><ol start="3">
<li>yii2 也內建 jquery，如果需要的話</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>    <span style="color:#75715e">//AppAsset.php
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> $depends<span style="color:#f92672">=</span>[
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">JqueryAsset</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>
</span></span><span style="display:flex;"><span>    ]
</span></span></code></pre></div><ol start="4">
<li>yii2 也提供 bootstrap4 套件</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>    composer require yiisoft/yii2-bootstrapt4
</span></span></code></pre></div><ol start="5">
<li>由於 sbAdmin 的 sb-admin.css 已經把 boostrap4 包進去了，所以我們不需要額外引進 bootstrap4 的 css，我們只需要 bootstrap4 的 js 即可</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>    <span style="color:#75715e">//AppAsset.php
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> $depends<span style="color:#f92672">=</span>[
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">BootstrapPluginAsset</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span> <span style="color:#75715e">//just js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ]
</span></span></code></pre></div><ol start="6">
<li>又因為 YiiAsset 包含 bootstrap.css，但我們只需要 js 即可</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;assetManager&#39;</span><span style="color:#f92672">=&gt;</span>[
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;bundles&#34;</span><span style="color:#f92672">=&gt;</span>[
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">\yii\bootstrap\BootstrapAsset4</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span><span style="color:#f92672">=&gt;</span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>    ]
</span></span></code></pre></div><ol start="7">
<li>刪掉多餘的檔案</li>
<li>開啟 pretty url</li>
</ol>
<h1 id="設計-db這步驟要仔細想花時間">設計 db(這步驟要仔細想，花時間)</h1>
<ol>
<li>利用 yii2 的 migratte 工具建立資料表， 如果在使用 docker 要注意權限問題，我新增一個一樣的使用者 stanley 在容器裡面，再切換使用者，讓我可以對 migration 檔案做修改和執行</li>
<li>用 gii 創建 model 建 query</li>
<li>用 gii 創建 crud controller search view</li>
<li>整合 view 頁面</li>
</ol>
<h1 id="後台表單關係到-ui-更花時間">後台表單(關係到 ui 更花時間)</h1>
<ol>
<li>安裝 wysiwyg</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>composer require 2amigos/yii2-ckeditor-widget:2.1.0
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">//form.php
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">&lt;?=</span> $form<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">field</span>($model, <span style="color:#e6db74">&#39;description&#39;</span>)<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">widget</span>(<span style="color:#a6e22e">CKEditor</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,[
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;options&#39;</span> <span style="color:#f92672">=&gt;</span> [<span style="color:#e6db74">&#39;row&#39;</span><span style="color:#f92672">=&gt;</span><span style="color:#ae81ff">6</span>],
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;preset&#34;</span><span style="color:#f92672">=&gt;</span><span style="color:#e6db74">&#34;basic&#34;</span>
</span></span><span style="display:flex;"><span>    ]) <span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><ol start="2">
<li>create_at create_by 欄位</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">behaviors</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">TimestampBehavior</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">BlameableBehavior</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>
</span></span><span style="display:flex;"><span>        ];
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><ol start="3">
<li>表單驗證</li>
<li>因為採用 bootstrap4 所以需要客製 ActionColumn</li>
</ol>
<h1 id="rest-api">rest api</h1>
<p>在 yii2 新增 restapi 的方法大致上有兩種，一種是你採用 yii2-base 的話，你會想要建 api module 來擴展此功能，那如果你是用 yii2-advenced 的話，建議是複製一個新的資料夾，像 backend frontend 一樣可以有自己的設定檔，同時 module 可以當作留存各版本 api 的擴充
<a href="https://www.youtube.com/watch?v=TPOyQ_W8VdA">https://www.youtube.com/watch?v=TPOyQ_W8VdA</a>
<a href="https://stackoverflow.com/questions/54009254/yii2-rest-api-location">https://stackoverflow.com/questions/54009254/yii2-rest-api-location</a></p>
    </div>
    <a href="/posts/yii2%E5%B0%88%E6%A1%88%E5%BB%BA%E7%BD%AE%E6%B5%81%E7%A8%8B/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/%E4%BD%BF%E7%94%A8email/" class="link black dim">
        使用email
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="前言">前言</h1>
<p>因為架網站免不了會需要 email 的服務，可能是發送驗證碼，訂單確認訊息，促銷活動 etc</p>
<h1 id="中小企業的選擇">中小企業的選擇</h1>
<ul>
<li>自建郵件 server</li>
<li>使用免費信箱</li>
<li>租用付費信箱</li>
</ul>
    </div>
    <a href="/posts/%E4%BD%BF%E7%94%A8email/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/jquery/" class="link black dim">
        JQuery的奇巧淫計
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="前言">前言</h1>
<p>本來不想要開這篇的，但是因為JQuery太多人用了，老專案都會用到，所以還是開了記錄一些不常見的用法</p>
<h1 id="事件觸發順序">事件觸發順序</h1>
<p>一般來說是件依照JS順序來綁定，如果想要改變這個順序的話，可以參考下文
<a href="https://stackoverflow.com/questions/2360655/jquery-event-handlers-always-execute-in-order-they-were-bound-any-way-around-t">https://stackoverflow.com/questions/2360655/jquery-event-handlers-always-execute-in-order-they-were-bound-any-way-around-t</a></p>
    </div>
    <a href="/posts/jquery/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/%E5%AD%B8%E7%BF%92go/" class="link black dim">
        學習go
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="前言">前言</h1>
<p><a href="https://www.youtube.com/watch?v=OSPNUKoN81o&amp;list=PLq9Ra239pNZC0MgMN4j6ZiPHv_c0UPnBX">資料來源</a></p>
<p>新一代的程式語言，由 google 開發，目的在於解決現有語言的困境
例如
python 簡單但太慢
java 太複雜度太高
c/c++ 複雜 編譯慢(編譯慢對雲端佈署來說，是個相當大的缺點)</p>
<h1 id="特性">特性</h1>
<ul>
<li>強型別靜態型別(99％的變數都會在邊一時被宣告)</li>
<li>優良的社群</li>
<li>簡單</li>
<li>編譯快</li>
<li>垃圾回收</li>
<li>內建併發</li>
<li>編譯成一個二進位 bin(不依賴其他的 dll 檔之類的)</li>
</ul>
<h1 id="開發環境設定">開發環境設定</h1>
<ul>
<li>windows 去載安裝檔</li>
<li>linux
預設目錄/usr/local/go
設定環境變數 vim .bashrc</li>
</ul>
<pre tabindex="0"><code class="language-conosle" data-lang="conosle">//設定goroot目前發現會有版本上的問題，所以能避免盡量避免
export GOROOT= /usr/local/go
export PATH= $PATH:$GOROOT/bin
//用來放置第三方套件的地方，弟一個gopath設定用來放套件，之後的就依規定裝在go工作目錄中
export GOPATH = /home/stanley/golib
//讓第三方插件的二進位檔也可執行
export PATH= $PATH:$GOPATH/bin
</code></pre><blockquote>
<p>source ~/.bashrc</p>
</blockquote>
<p>重新導入環境變數</p>
<blockquote>
<p>go get github.com/stanley/gocode</p>
</blockquote>
<p>就會發現第三方插件被安裝到了 golib
但是有些插件我們想要分全域用和專案用
此時就要在設置另一個 GOPATH</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>export GOPATH = $GOPATH:/home/stanley/code
</span></span></code></pre></div><p>那如何得到 go 的工作目錄呢？有 <strong>src</strong> 資料夾即可</p>
<ul>
<li>src go 自己會去尋找這個資料架</li>
<li>bin 編譯過得二進位檔</li>
<li>pkg 編譯過得第三方二進位檔</li>
</ul>
<h1 id="執行">執行</h1>
<p>run 指令</p>
    </div>
    <a href="/posts/%E5%AD%B8%E7%BF%92go/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/%E4%BD%BF%E7%94%A8cdn/" class="link black dim">
        使用cdn
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="前言">前言</h1>
<p>因為公司有自建 cdn，是藉由 nginx 來達成的，所以就看一下 code 來了解大概脈絡</p>
<p>一致性：如何多節點環存一致
可靠性：如何保證不故障，故障如何自動備援 恢復
持久性：如何保證永久更新</p>
<p>為了達成以上幾個點，我們會需要一些功能，</p>
<ol>
<li>需要一個後台來管理眾多 cdn，</li>
<li>我們 cdn 的 nginx 的設定檔，也都需要透過這後台來生</li>
<li>我一個新的 cdn 的 ip 輸入進這個後台，選擇這個 cdn 所屬的群組，按下佈署，整個環境就會自動建置完畢，cdn 自己就會去原本的節點拉取資料</li>
<li>要能夠清除 cdn 快取的資料</li>
</ol>
<p>那其實我很好奇，下面這些偵測打包的程式是要幹什麼的？是為了 windows 平台而專門做的一個 cron 嗎？</p>
<p>有一個常駐的程式監控某一個特定的資料夾，用 7z 來打包新的檔案，定時的刪除打包的數據，這些互動都透過 php 的 exec 函式來跟程式碼互動，
max_user_watches 系統參數要調大</p>
<p>然而 windows 主機的話，就要有一個排程，定時檢查看看有沒有新版本</p>
    </div>
    <a href="/posts/%E4%BD%BF%E7%94%A8cdn/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/%E4%B8%BB%E6%A9%9F%E7%AE%A1%E7%90%86/" class="link black dim">
        主機管理
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="前言">前言</h1>
<p>實體的機器
要考慮作業系統，資料庫管理工具，提供的服務，那當要在同一台機器提供需要不同環境(例如升級新版的資料庫)的服務時，兩個服務就不能同時存在同一台機器了
虛擬機
我們開始想辦法在作業系統上再裝一個作業系統，這樣環境就不會衝突，然而這樣會非常的消耗資源
容器
我們開始把現有的作業系統的使用最大化，讓每一個服務都是一個進程，這樣就可以省掉很多資源了</p>
<h1 id="掛載nfs硬碟解決權限問題">掛載NFS硬碟解決權限問題</h1>
<p>Change your configuration so that</p>
<blockquote>
<p>mount -t cifs -o username=someuser,password=somepass //192.168.0.110/backup /var/backup
Then in /etc/fstab add</p>
</blockquote>
<blockquote>
<p>//192.168.0.110/backup /var/backup cifs username=someuser,password=somepass,network,iocharset=utf8,file_mode=0777,dir_mode=0777,noperm</p>
</blockquote>
<p><a href="https://unix.stackexchange.com/questions/98707/how-do-i-mount-a-cifs-share-so-i-can-fully-control-the-mounted-volume-on-the-cli">https://unix.stackexchange.com/questions/98707/how-do-i-mount-a-cifs-share-so-i-can-fully-control-the-mounted-volume-on-the-cli</a></p>
<p><a href="https://superuser.com/questions/744384/allow-chmod-on-cifs-mount">https://superuser.com/questions/744384/allow-chmod-on-cifs-mount</a></p>
<p><a href="https://superuser.com/questions/451475/chmod-doesnt-work">https://superuser.com/questions/451475/chmod-doesnt-work</a></p>
    </div>
    <a href="/posts/%E4%B8%BB%E6%A9%9F%E7%AE%A1%E7%90%86/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/%E4%BD%BF%E7%94%A8webrtc/" class="link black dim">
        使用webRTC
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="參考資料">參考資料</h1>
<p><a href="https://youtu.be/FExZvpVvYxA">WebRTC Crash Course</a>
<a href="https://ithelp.ithome.com.tw/users/20089358/ironman/1923">30 天之即時網路影音開發攻略</a></p>
<h1 id="前言">前言</h1>
<p>webrtc(web realtime communication) 可以讓兩個瀏覽器之間 p2p 直接溝通，而中間不需要在透過 server，達到的目的就是快速</p>
<h1 id="sdpsesssion-description-protocol">sdp(sesssion description protocol)</h1>
<p>在兩個瀏覽器溝通之前，必須先傳給對方用 webrtc 溝通所需資料，這個過程我們稱作 signaling，而這些資料我們稱為 sdp</p>
<p>signaling 這個動作可以藉由任何管道，可以已藉由通訊軟體，websocket 只要有辦法傳送給對方即可，那通常大家都會採用 websocket 來建一個 signaling server</p>
<p>sdp 裡面會包含很多的資料，傳輸的格式，加密的方法，ice candidates 好多好多資料</p>
<p>A → B A 把 offer(SDP)給 B
B ← A B 收到之後，用這個 SDP 在創建一個(SDP)answer 給 B</p>
<h1 id="natnetwork-address-translation">nat(network address translation)</h1>
<p>如果你有 public ip 一切都變得簡單，但大部分的人都沒有，那我們就需要透過 nat，nat 簡單來說就是一張表，當你要和外部溝通時，他會建立對應的表
，那收到回應時，我們就會來查這張表
你的 ip | 你的 port | router ip | router port | host ip | host port
那不同的 router 有不同的機制</p>
    </div>
    <a href="/posts/%E4%BD%BF%E7%94%A8webrtc/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/%E6%B8%AC%E8%A9%A6/" class="link black dim">
        測試
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="cypress">cypress</h1>
<p>e2e 的測試</p>
<h1 id="壓力測試">壓力測試</h1>
<p>通常伴隨著 apache 會有裝，如果沒有的話就額外下載
yum install httpd_tools
ab n10000 c10000 -k http://localhost
-k 長連接</p>
<h1 id="寫測試該注意些什麼">寫測試該注意些什麼</h1>
<p>你的程式要可以被測試</p>
<ul>
<li>時間，假如你的程式有用到now這類的時間函數，那會導致你的測試案例受影響，例如測試案例需要在昨天做什麼事情，會讓你的測試案例受限有系統時間擺布
我們可以怎麼做
<ul>
<li>模擬系統時間:安裝第三方的庫例如https://github.com/rezzza/TimeTraveler，這個庫會對原生的time()動手腳
你也可以用Carbon：setTestNow()，但你要確保你測試的程式都使用Carbon</li>
<li>或是日期改用注入的方式，不寫死在function裡面</li>
</ul>
</li>
</ul>
    </div>
    <a href="/posts/%E6%B8%AC%E8%A9%A6/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/%E5%B8%B8%E8%A6%8B%E7%9A%84api%E8%A6%8F%E7%AF%84/" class="link black dim">
        常見的api規範
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="rest-api">rest api</h1>
<h1 id="soap">soap</h1>
<h1 id="rpc">rpc</h1>
<h1 id="graphql">graphql</h1>
    </div>
    <a href="/posts/%E5%B8%B8%E8%A6%8B%E7%9A%84api%E8%A6%8F%E7%AF%84/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
    </section>
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/posts/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/3/" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/5/" aria-label="Page 5" class="page-link" role="button">5</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/3/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/8/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul></article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="http://localhost:1313/" >
    &copy;  My New Hugo Site 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
